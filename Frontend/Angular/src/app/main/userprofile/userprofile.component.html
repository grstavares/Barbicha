<div class="form" fxLayout="column" fxLayoutAlign="space-around center">

  <form #form="ngForm" [ngFormOptions]="{updateOn: 'change'}">

    <div fxFlexFill>

      <mat-form-field fxFlex="100">
        <input matInput placeholder="Nome" type="text" ngModel name="nome" value="{{ userProfile.name  }}" required>
        <mat-error>Campo obrigatório</mat-error>
      </mat-form-field>

    </div>

    <div fxLayout="row" fxLayoutGap="30px">

      <mat-form-field>
        <input matInput type="text" ngModel name="apelido" value="{{ userProfile.alias }}" placeholder="Apelido">
      </mat-form-field>

      <mat-form-field>
        <input matInput  ngModel name="nascimento"  value="{{ userProfile.birth }}" [matDatepicker]="picker" placeholder="Data de Nascimento">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

    </div>

    <div fxLayout="column">

      <mat-form-field>
        <input matInput placeholder="E-mail" type="email" ngModel name="email" value="{{ userProfile.email }}" email required>
        <mat-error>Deve ser um endereço de e-mail válido!</mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Telefone" type="tel" ngModel name="phone" value="{{ userProfile.phone }}">
      </mat-form-field>

    </div>

    <div fxLayout="row" fxLayoutAlign="end end">

      <button mat-flat-button (click)="saveUserProfile(form)" [disabled]="form.invalid">Salvar</button>

    </div>

    <div *ngIf="isLoading" fxLayoutAlign="center center"><mat-spinner></mat-spinner></div>

  </form>
</div>
